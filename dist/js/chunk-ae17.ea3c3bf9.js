(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae17"],{4342:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-box"},[a("Input",{staticClass:"search-inp",staticStyle:{width:"auto"},attrs:{prefix:"ios-contact",placeholder:"输入用户名"},model:{value:e.searchContent,callback:function(t){e.searchContent=t},expression:"searchContent"}}),a("Button",{staticClass:"search-btn",attrs:{type:"info"},on:{click:e.queryUserSearch}},[e._v("搜索")])],1),a("Table",{attrs:{loading:e.userListLoading,columns:e.userListColumns,data:e.userList,size:"large"}}),a("Modal",{attrs:{title:"查看用户","mask-closable":!1,width:"800","cancel-text":""},model:{value:e.modalFlag,callback:function(t){e.modalFlag=t},expression:"modalFlag"}},[a("Tabs",{attrs:{type:"card"}},[a("TabPane",{attrs:{label:"用户地址"}},[a("Table",{attrs:{columns:e.addressColumns,data:e.addressData,size:"small"}})],1),a("TabPane",{attrs:{label:"银行卡"}},[a("Table",{attrs:{columns:e.cardColumns,data:e.cardData,size:"small"}})],1)],1)],1)],1)},r=[],i={name:"user_search_page",data:function(){var e=this;return{searchContent:"",modalFlag:!1,userListLoading:!1,userList:[],queryObj:{},viewUserObj:{},userListColumns:[{title:"用户名",key:"username"},{title:"会员等级",key:"vipLevel",render:function(e,t){return 0===t.row.vipLevel?e("div","VIP"):1===t.row.vipLevel?e("div","总代理·"):2===t.row.vipLevel?e("div","CEO"):void 0}},{title:"代理地区",key:"proxyArea"},{title:"积分",key:"withdrawAmount"},{title:"手机号",key:"mobile"},{title:"创建时间",key:"createTime",render:function(e,t){return e("div",{},t.row.createTime.substr(0,10))}},{title:"编辑",key:"action",width:150,align:"center",render:function(t,a){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.queryUserByUid(a.row.uid),e.modalFlag=!0}}},"查看"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.$Modal.confirm({title:"警告",content:"确定要删除吗？",onOk:function(){e.deleteUser(a.row.uid)}})}}},"删除")])}}],addressColumns:[{title:"联系人",key:"contact",width:150},{title:"联系电话",key:"mobile",width:150},{title:"地址",key:"address",render:function(e,t){return e("div",{},t.row.province+t.row.city+t.row.area+t.row.detail)}},{title:"是否默认",key:"default",width:100,render:function(e,t){return e("div",{},1===t.row.isDefault?"是":"否")}}],addressData:[],cardColumns:[{title:"所属银行",key:"cardKind"},{title:"卡号",key:"cardId"},{title:"持卡人",key:"cardHolder"},{title:"是否默认",key:"default",width:100,render:function(e,t){return e("div",{},1===t.row.isDefault?"是":"否")}}],cardData:[]}},methods:{showModal:function(){this.modalVisible=!0},queryUserSearch:function(){var e=this;this.userListLoading=!0,this.$api.queryUserSearch({username:this.searchContent}).then(function(t){200===t.code?(null===t.data.user?e.$Message.warning("用户不存在"):e.userList.push(t.data.user),e.userListLoading=!1):(e.$Message.warning(t.message),e.userListLoading=!1)})},queryUserByUid:function(e){var t=this;this.$api.queryUserByUid({uid:e}).then(function(e){200===e.code?(t.viewUserObj=e.data.userInfo,t.addressData=e.data.userInfo.userAddress,t.cardData=e.data.userInfo.userBankCard):console.log(e)})},deleteUser:function(e){var t=this;this.$api.deleteUser({uid:e}).then(function(e){200===e.code?(t.$Message.success("删除成功!"),t.userList=[]):console.log(e)})},changePage:function(e){this.userListLoading=!0,this.queryUser(e)}},created:function(){}},n=i,o=(a("d758"),a("2877")),l=Object(o["a"])(n,s,r,!1,null,null,null);l.options.__file="user-search.vue";t["default"]=l.exports},"866c":function(e,t,a){},d758:function(e,t,a){"use strict";var s=a("866c"),r=a.n(s);r.a}}]);